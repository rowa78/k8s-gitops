replicaCount: 1

image:
  repository: rspamd/rspamd
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets:
  - name: externalregistry
nameOverride: ""
fullnameOverride: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  port: 11334
  controllerPort: 11334
  workerPort: 11333
  metricsPort: 11335
  
  # Unbound DNS service port
  unboundPort: 53

resources: {}

persistence:
  enabled: true
  storageClass: "openebs-zfs"
  size: 1Gi

# Custom configuration files to be mounted in /custom-config/
config:
  # Example:
  # local.d/worker-normal.inc: |
  #   bind_socket = "0.0.0.0:11333";

# Certificates to be mounted in /certs
certificates:
  enabled: false
  secretName: ""

# Additional secrets to be mounted in /custom-config/
secrets: []
  # - name: secret-name
  #   key: secret-key
  #   path: path/in/custom-config

# Additional environment variables
env: []
  # - name: ENV_VAR_NAME
  #   value: "value"

# Unbound configuration
unbound:
  enabled: true
  image:
    repository: registry.rwcloud.org/unbound
    pullPolicy: Always
    tag: "0.1"
  resources: {}
  config: 
    server:
      verbosity: 1
      interface: 0.0.0.0
      port: 53
      do-ip4: "yes"
      do-ip6: "yes"
      do-udp: "yes"
      do-tcp: "yes"
      access-control: 0.0.0.0/0 allow
      hide-identity: "yes"
      hide-version: "yes"
      logfile: /dev/stdout
      log-queries: "yes"      
      private-domain: cluster.local.
      # Add all DNS blocklists below
      private-domain: dnsbl.manitu.net.
      private-domain: surbl.org.
      private-domain: spamhaus.org.
      private-domain: spameatingmonkey.net.

# Network policy
networkPolicy:
  enabled: false
