apiVersion: stackgres.io/v1
kind: SGCluster
metadata:
  namespace: eve-dev
  name: eve-db
spec:
  postgres:
    version: '14.8'
  instances: 3
  sgInstanceProfile: 'size-small'
  pods:
    persistentVolume:
      size: '150Gi'
  configurations:
    sgPostgresConfig: 'pgconfig1'
    sgPoolingConfig: 'poolconfig1'
    backups:
    - sgObjectStorage: 'objectstorage'      
      retention: 14
  managedSql:
    scripts:
    - sgScript: stackgres-script    
  distributedLogs:
    sgDistributedLogs: 'distributedlogs'
  extensions:
    - {name: 'hypopg'}
  prometheusAutobind: true
  nonProductionOptions:
    disableClusterResourceRequirements: true
    disablePatroniResourceRequirements: true