apiVersion: stackgres.io/v1
kind: SGCluster
metadata:
  namespace: eve-dev
  name: eve-db
spec:
  postgres:
    version: '12.3'
  instances: 3
  sgInstanceProfile: 'size-small'
  pods:
    persistentVolume:
      size: '150Gi'
  configurations:
    sgPostgresConfig: 'pgconfig1'
    sgPoolingConfig: 'poolconfig1'
    backups:
    - sgObjectStorage: 'objectstorage'
      cronSchedule: '*/5 * * * *'
      retention: 6
#  managedSql:
#    scripts:
#    - sgScript: cluster-scripts
#  distributedLogs:
#    sgDistributedLogs: 'distributedlogs'
  prometheusAutobind: true
  nonProductionOptions:
    disableClusterResourceRequirements: true
    disablePatroniResourceRequirements: true