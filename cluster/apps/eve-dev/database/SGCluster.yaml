apiVersion: stackgres.io/v1
kind: SGCluster
metadata:
  namespace: eve-dev
  name: eve-db
spec:
  postgres:
    version: '14.8'
    extensions:
    - {name: 'hypopg'}
  instances: 2
  sgInstanceProfile: 'size-small'
  pods:
    persistentVolume:
      size: '150Gi'
      storageClass: 'openebs-zfs-pg'
  configurations:
    sgPostgresConfig: 'pgconfig1'
    sgPoolingConfig: 'poolconfig1'
#    backups:
#    - sgObjectStorage: 'objectstorage'      
#      retention: 7
  managedSql:
    scripts:
    - sgScript: stackgres-script    
#  distributedLogs:
#    sgDistributedLogs: 'distributedlogs'  
  prometheusAutobind: true
  nonProductionOptions:
    disableClusterResourceRequirements: true
    enableSetPatroniCpuRequests: true
    enableSetPatroniMemoryRequests: true