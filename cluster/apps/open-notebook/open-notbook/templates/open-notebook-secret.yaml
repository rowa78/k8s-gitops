{{- if not .Values.openNotebook.encryptionKey.existingSecret.name }}
{{- if .Values.openNotebook.encryptionKey.sealedSecret.encryptedData }}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: open-notebook-secrets
  labels:
    {{- include "open-notebook.labels" . | nindent 4 }}
spec:
  encryptedData:
    OPEN_NOTEBOOK_ENCRYPTION_KEY: {{ .Values.openNotebook.encryptionKey.sealedSecret.encryptedData | quote }}
  template:
    metadata:
      name: open-notebook-secrets
      labels:
        {{- include "open-notebook.labels" . | nindent 8 }}
    type: Opaque
{{- end }}
{{- end }}
