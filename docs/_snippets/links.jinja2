{%- set urls =
  {
    'repo': {
      'url': 'https://github.com/rogerrum/k8s-gitops'
    },
    'external': {
      'cert-manager': {
        'url': 'https://cert-manager.io'
      },
      'ingress-nginx': {
        'url': 'https://kubernetes.github.io/ingress-nginx/',
        'label': 'NGINX Ingress'
      },
      'k3s': {
        'url': 'https://k3s.io'
      },
      'kah_repo_awesome': {
        'url': 'https://github.com/k8s-at-home/awesome-home-kubernetes',
        'label': 'awesome-home-kubernetes'
      },
      'kah_discord': {
        'url': 'https://discord.gg/k8s-at-home',
        'label': 'Kubernetes @home Discord'
      },
      'kured': {
        'url': 'https://github.com/weaveworks/kured',
        'label': 'Kured'
      },
      'letsencrypt': {
        'url': 'https://letsencrypt.org',
        'label': 'LetsEncrypt'
      },
      'metallb': {
        'url': 'https://metallb.universe.tf/',
        'label': 'Metallb'
      }
    }
  }
-%}

{% macro external(name, label) -%}
  {% if label %}
  [{{ label }}]({{ urls.external[name].url }}){target=\_blank}
  {% elif urls.external[name].label %}
  [{{ urls.external[name].label }}]({{ urls.external[name].url }}){target=\_blank}
  {% else %}
  [{{ name }}]({{ urls.external[name].url }}){target=\_blank}
  {% endif %}
{%- endmacro %}

{% macro repoUrl(label, suffix) -%}
  [{{ label }}]({{ urls.repo.url }}{% if label %}/{{ suffix }}{% endif %}){target=\_blank}
{%- endmacro %}
